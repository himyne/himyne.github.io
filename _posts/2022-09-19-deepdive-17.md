---
published: true
layout : single
title : "[JS] ëª¨ë˜ Javascript Deep Dive 17ì¥ - ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ ê°ì²´ ìƒì„±"

categories:
  - DeepDive
tags:
  - Deepdive
  - ìƒì„±ìí•¨ìˆ˜
  - ì¸ìŠ¤í„´ìŠ¤

toc: true
toc_sticky: true
toc_label: "17ì¥ - ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ ê°ì²´ ìƒì„±"
---

ì´ì „ì— ì¤‘ê´„í˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ ë¦¬í„°ëŸ´ì„ ë§Œë“œëŠ” ë°©ë²•ì„ ë°°ìš´ ì ì´ ìˆë‹¤. ì´ë²ˆ ì±•í„°ëŠ” ê°ì²´ ìƒì„± ë°©ì‹ ì¤‘ì—ì„œ **ìƒì„±ì í•¨ìˆ˜**ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ì‹ì„ ì•Œì•„ë³¼ ê²ƒì´ë‹¤. 

> ***ì—¬ê¸°ì„œ ìƒì„±ì í•¨ìˆ˜ë€ ë¬´ì—‡ì¼ê¹Œ??***
> 

ì‰½ê²Œ ë§í•˜ë©´ new í‚¤ì›Œë“œì™€ í•¨ê»˜ í˜¸ì¶œí•˜ì—¬ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. 

ì´ë•Œ ë§Œë“¤ì–´ì§„ ê°ì²´ëŠ” **ì¸ìŠ¤í„´ìŠ¤**ë¼ê³  í•œë‹¤.

new í‚¤ì›Œë“œë¥¼ ì´ìš©í•˜ë©´ ìƒì„±ì í•¨ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê³  ê¸°ë³¸ì ìœ¼ë¡œ ë‚´ì¥ë˜ì–´ ìˆëŠ” ìƒì„±ì í•¨ìˆ˜(=ë¹ŒíŠ¸ì¸ ìƒì„±ì í•¨ìˆ˜)ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ ë‚´ì¥ë˜ì–´ ìˆëŠ” ìƒì„±ì í•¨ìˆ˜ëŠ” ëŒ€í‘œì ìœ¼ë¡œ String, Number, Boolean, Function, Array, Date, RegExp ë“±ì´ ìˆë‹¤.

ë¨¼ì € ê¸°ë³¸ì ìœ¼ë¡œ ë¹ˆ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” Object ìƒì„±ìë¶€í„° ì•Œì•„ë³´ì.

# [01] Object ìƒì„±ì í•¨ìˆ˜

```jsx
const person = new Object(); // ê°ì²´ ìƒì„±

person.name = 'minhye'; // í”„ë¡œí¼í‹° ì¶”ê°€ 
person.sayHello = function (){ // ë©”ì„œë“œ ì¶”ê°€
	console.log('Hi! My name is' + this.name);
};
console.log(person); // {name: "minhye", sayHello: f}
person.sayHello(); // Hi! My name is minhye
```

ì²˜ìŒ new í‚¤ì›Œë“œì™€ í•¨ê»˜ Object ìƒì„±ì í•¨ìˆ˜ë¥¼ ë§Œë“¤ë©´ í”„ë¡œí¼í‹°ê°€ ì—†ëŠ” ë¹ˆ ê°ì²´ê°€ ë§Œë“¤ì–´ì§„ë‹¤. í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ì—¬ ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë‚˜ê°€ì•¼ í•œë‹¤.

ê·¸ë ‡ê¸° ë•Œë¬¸ì— ê°ì²´ ë¦¬í„°ëŸ´ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ê°„í¸í•´ë³´ì´ê³  Object ìƒì„±ì í•¨ìˆ˜ê°€ ìˆë‹¤ëŠ” ê²ƒë§Œ ì•Œì•„ë‘ê³  ë„˜ì–´ê°€ëŠ” í¸ì´ ì¢‹ê² ë‹¤.

# [02] ìƒì„±ì í•¨ìˆ˜

ê·¸ë ‡ë‹¤ë©´ ìƒì„±ì í•¨ìˆ˜ëŠ” ì™œ ì‚¬ìš©í• ê¹Œ?? ê°ì²´ ë¦¬í„°ëŸ´ì˜ ë‹¨ì ê³¼ ìƒì„±ì í•¨ìˆ˜ì˜ ì¥ì ì„ ì•Œë©´ ì´í•´í•  ìˆ˜ ìˆë‹¤.

## ê°ì²´ ë¦¬í„°ëŸ´ê³¼ ìƒì„±ì í•¨ìˆ˜ì˜ ê°ì²´ ìƒì„± ë°©ì‹ ë¹„êµ

**ğŸ¥• ê°ì²´ ë¦¬í„°ëŸ´ ë°©ì‹**

ê°ì²´ ë¦¬í„°ëŸ´ì˜ ê°ì²´ ìƒì„± ë°©ì‹ì€ ê°„í¸í•˜ì§€ë§Œ í•˜ë‚˜ì˜ ê°ì²´ë§Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì•„ë˜ ì½”ë“œì²˜ëŸ¼ í”„ë¡œí¼í‹°ì˜ êµ¬ì¡°ê°€ ë˜‘ê°™ì•„ë„ í”„ë¡œí¼í‹° ê°’ì´ ë‹¤ë¥´ë©´ ë‘ê°œì˜ ê°ì²´ë¥¼ ìƒì„±í•´ ì£¼ì–´ì•¼ í•˜ëŠ” ë‹¨ì ì´ ìˆë‹¤. 

```jsx
const circle1 = {
	radius: 5,
	getDiameter() {
		return 2 * this.radius;
	}
}; 
console.log(circle.getDiameter());

const circle2 = [
	radius: 10,
	getDiameter(){
		return 2 * this.radius;
	}
};
console.log(circle2.getDiameter());

// ë‘ ê°ì²´ê°€ radius ê°’ë§Œ ë‹¤ë¥´ê³  ê°™ì€ êµ¬ì¡°ì¸ë° ë‘ê°œì˜ ê°ì²´ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ìƒì„±ë¨.
```

ğŸ¥• **ìƒì„±ì í•¨ìˆ˜ ë°©ì‹**

ìƒì„±ì í•¨ìˆ˜ ë°©ì‹ìœ¼ë¡œ ê°ì²´ë¥¼ ë§Œë“¤ë©´ í”„ë¡œí¼í‹° êµ¬ì¡°ê°€ ê°™ì€ ê°ì²´ ì—¬ëŸ¬ê°œë¥¼ í•œê°œì˜ ìƒì„±ì í•¨ìˆ˜ë§Œìœ¼ë¡œ ê°„í¸íˆ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

```jsx
function Circle(radius){
	this.radius = radius;
	this.getDiameter = function(){
		return 2 * this.radius;
	};
} 

//ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
const circle1 = new Circle(5); 
const circle2 = new Circle(10);

console.log(circle1.getDiameter());
console.log(circle2.getDiameter());

```

## ìƒì„±ì í•¨ìˆ˜ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ê³¼ì •

ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ê³¼ì •ì„ ì´í•´í•˜ë ¤ë©´ thisì˜ ê°œë…ë„ ì–´ëŠì •ë„ ì•Œì•„ë‘ì–´ì•¼ í•œë‹¤.

ğŸ” **this**


ğŸ“¢ ê°ì²´ ìì‹ ì˜ í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ì°¸ì¡°í•˜ê¸° ìœ„í•œ ìê¸° ì°¸ì¡° ë³€ìˆ˜ë‹¤.
{: .notice}

ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ë©´ thisì— ë°”ì¸ë”©ëœë‹¤. ë°”ì¸ë”©ì€ ì‹ë³„ìì™€ ê°’ì„ ì—°ê²°í•˜ëŠ” ê³¼ì •ì´ë‹¤.

this ë°”ì¸ë”©ì€ thisì™€ thisê°€ ê°€ë¦¬í‚¬ ê°ì²´ë¥¼ ë°”ì¸ë”©í•˜ëŠ” ê²ƒì´ë‹¤.

ğŸ¯ **ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ê³¼ì •**

1. ì•”ë¬µì ìœ¼ë¡œ ë¹ˆ ê°ì²´ ìƒì„±, thisì— ë°”ì¸ë”©
2.  ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”(ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹° ì¶”ê°€ ë° ì´ˆê¸°ê°’ í• ë‹¹) 
3. ì•”ë¬µì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜

```jsx
function User(name) {
	// this = {}; (ë¹ˆ ê°ì²´ê°€ ì•”ë¬µì ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ê³  thisì— ë°”ì¸ë”©ëœë‹¤)

	console.log(this); // User{}

	//  thisì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
	this.name = name;
	this.isAdmin = false;

	//return this; (thisê°€ ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜)
}
const user = new User("ë¯¼í˜œ");

console.log(user); // User{name: "ë¯¼í˜œ", isAdmin: false}
// ì‹¤ì œë¡œ í•¨ìˆ˜ì— ë°˜í™˜ë¬¸ì´ ì—†ì§€ë§Œ thisê°€ ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜ë¨

console.log(user.name); // ë¯¼í˜œ
console.log(user.isAdmin); // false
```

return ë¬¸ì´ ì—†ìœ¼ë©´ ì•”ë¬µì ìœ¼ë¡œ thisê°€ ë°˜í™˜ë˜ëŠ”ë° returnë¬¸ì´ ì¡´ì¬í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ??

```jsx
function Circle(radius){
	this.radius = radius;
	this.getDiameter = function(){
		return 2 * this.radius;
};
	return {};
}
const circle = new Circle(1);
console.log(circle); // {}
// thisê°€ ë¬´ì‹œë˜ê³  ë¹ˆ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
```

ìœ„ ì½”ë“œë¥¼ ë³´ë©´ í•¨ìˆ˜ì—ì„œ {}ë¥¼ ë°˜í™˜í•œ ë°”ëŒì— thisê°€ ë¬´ì‹œë˜ê³  ë¹ˆ ê°ì²´ê°€ ë°˜í™˜ë˜ì—ˆë‹¤â€¦.

+) ì›ì‹œê°’ì„ ë°˜í™˜ë˜ë©´ ì˜¤íˆë ¤ ì›ì‹œê°’ì´ ë¬´ì‹œë˜ê³  thisê°€ ë°˜í™˜ëœë‹¤ê³  í•œë‹¤.

ê²°ë¡ ì ìœ¼ë¡œ **ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisê°€ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ê°’ì„ ë°˜í™˜í•˜ë©´ ìƒì„±ì í•¨ìˆ˜ì˜ ê¸°ë³¸ ë™ì‘ì„ í›¼ì†í•˜ëŠ” ê²ƒì´ë¯€ë¡œ return ë¬¸ì€ ìƒëµí•´ì•¼ í•œë‹¤ !!**

## ë‚´ë¶€ ë©”ì„œë“œ [[Call]] ê³¼ [[Counstruct]]

í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ë‹¨ì›ì—ì„œ **ëª¨ë“  ê°ì²´**ëŠ” ë‚´ë¶€ ìŠ¬ë¡¯ê³¼ ë©”ì„œë“œë¥¼ ê°–ëŠ”ë‹¤ëŠ” ê²ƒì„ ë°°ì› ë‹¤.

**í•¨ìˆ˜ë„ ê°ì²´**ì´ì§€ë§Œ í•¨ìˆ˜ëŠ” ì¼ë°˜ ê°ì²´ì™€ ë‹¤ë¥´ê²Œ **í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤**ëŠ” íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆë‹¤.

ê·¸ë˜ì„œ í•¨ìˆ˜ ê°ì²´ëŠ” í•¨ìˆ˜ ê°ì²´ë§Œì„ ìœ„í•œ **[[ Call ]] , [[Construct]]**ì™€ ê°™ì€ ë‚´ë¶€ ë©”ì„œë“œë¥¼ ì¶”ê°€ë¡œ ê°€ì§€ê³   ìˆë‹¤.

```jsx
function foo(){}

// ì¼ë°˜ì ì¸ í•¨ìˆ˜ í˜¸ì¶œ: [[Call]] í˜¸ì¶œ
foo();

// ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ : [[Counstruct]] í˜¸ì¶œ
new foo();
```

ì¼ë°˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œë˜ë©´ [[Call]]ì´ í˜¸ì¶œë˜ê³  ìƒì„±ì í•¨ìˆ˜ë¡œ í˜¸ì¶œë˜ë©´ [[Counstruct]]ê°€ í˜¸ì¶œëœë‹¤.

- callable : í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê°ì²´ë‚˜ í•¨ìˆ˜, ë‚´ë¶€ ë©”ì„œë“œ [[Call]]ì„ ê°–ëŠ” í•¨ìˆ˜
- constructor : ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜, ë‚´ë¶€ ë©”ì„œë“œ [[Construct]]ë¥¼ ê°–ëŠ” í•¨ìˆ˜
- non-constructor : ê°ì²´ë¥¼ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ì—†ëŠ” í•¨ìˆ˜

í•¨ìˆ˜ëŠ” í˜¸ì¶œ ê°€ëŠ¥í•˜ë¯€ë¡œ í•¨ìˆ˜ ê°ì²´ëŠ” ë°˜ë“œì‹œ callableì¼ ê²ƒì´ë‹¤. ê·¸ëŸ°ë° ëª¨ë“  í•¨ìˆ˜ê°€ constructorì€ ì•„ë‹ˆë‹¤. ëª¨ë“  í•¨ìˆ˜ ê°ì²´ë¥¼ ìƒì„±ì í•¨ìˆ˜ë¡œ í˜¸ì¶œí•  ìˆ˜ëŠ” ì—†ë‹¤ëŠ” ëœ»ì´ë‹¤.

![Untitled](/assets/images/17-1.png)

ì •ë¦¬í•˜ìë©´ í•¨ìˆ˜ëŠ” ëª¨ë‘ í˜¸ì¶œ ê°€ëŠ¥í•œë° ê·¸ ì¤‘ **ìƒì„±ì í•¨ìˆ˜ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê°ì²´ì™€ ì•„ë‹Œ ê°ì²´**ë¡œ ë‚˜ë‰œë‹¤.

## constructorì™€ non-constructorì˜ êµ¬ë¶„

*ê·¸ë ‡ë‹¤ë©´ constructorì™€ non-constructorëŠ” ì–´ë–»ê²Œ êµ¬ë¶„í• ê¹Œ??*

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ í•¨ìˆ˜ ì •ì˜ ë°©ì‹ì— ë”°ë¼ ì´ ë‘˜ì„ êµ¬ë³„í•œë‹¤.

- constructor : í•¨ìˆ˜ ì„ ì–¸ë¬¸, í•¨ìˆ˜ í‘œí˜„ì‹, í´ë˜ìŠ¤
- non-constructor : ë©”ì„œë“œ(ES6 ë©”ì„œë“œ ì¶•ì•½ í‘œí˜„), í™”ì‚´í‘œ í•¨ìˆ˜

```jsx
//constructor
function foo(){} // í•¨ìˆ˜ ì„ ì–¸ë¬¸
new foo(); // foo{}

const bar = function() {}; // í•¨ìˆ˜ í‘œí˜„ì‹
new bar(); // bar{}

const baz = {
	x : function() {}
}; 
new baz.x(); // x {}
```

non-constructor ì˜ ê²½ìš° new ì—°ì‚°ìì™€ í•¨ê»˜ ìƒì„±ì í•¨ìˆ˜ë¡œ í˜¸ì¶œí–ˆì„ ë•Œ ì˜¤ë¥˜ ë°œìƒ

```jsx

// non-constructor 
const arrow = () => {};// í™”ì‚´í‘œ í•¨ìˆ˜
new arrow(); // TypeError: arrow is not a constructor

const obj = {
	 x() {}
}; // ë©”ì„œë“œ
new obj.x(); //TypeError: obj.x is not a constructor

```

ì´ constructor ì†ì„±ì„ ì´ìš©í•˜ì—¬ ë‚˜ì¤‘ì— ì¸ìŠ¤í„´ìŠ¤ê°€ ì–´ë–¤ ìƒì„±ì í•¨ìˆ˜ì— ì˜í•´ ìƒê²¨ë‚¬ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤ê³  í•œë‹¤. 

## new. target

ë§Œì•½ new ì—°ì‚°ì ì—†ì´ ìƒì„±ì í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ ì¼ë°˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œë˜ì–´ ë²„ë¦°ë‹¤.

ê·¸ë ‡ê²Œ ë˜ë©´ [[Construct]]ê°€ í˜¸ì¶œë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ [[Call]]ì´ í˜¸ì¶œëœë‹¤. 

```jsx
function Circle(radius){
	this.radius = radius;
	this.getDiameter = function(){
		return 2 * this.radius;
	}
}
const circle = Circle(2); //new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œë˜ì§€ ì•Šì•˜ë‹¤.
console.log(circle); // undefined

//í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ì „ì—­ê°ì²´ windowë¥¼ ê°€ë¦¬í‚¨ë‹¤.
console.log(radius); //2
console.log(getDiameter()); //4

circle.getDiameter();
//TypeError: Cannot read property 'getDiameter' of undefined
```

ì´ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ES6ì—ì„œ new.tartgetì´ë¼ëŠ” ë©”íƒ€ í”„ë¡œí¼í‹°ë¥¼ ì§€ì›í•œë‹¤.

ì•„ë˜ ì½”ë“œë¥¼ ì´í•´í•˜ë©´ new.targetì´ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ ì•Œê¸° ì‰¬ìš¸ ê²ƒì´ë‹¤.

```jsx
function Circle(radius){
	// new ì—°ì‚°ìì™€ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí–ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œ ì¶”ê°€
	if(!new.target){
		return new Circle(radius);
	} 
	this.radius = radius;
	this.getDiameter = function(){
		return 2 * this.radius;
	}
}
const circle = Circle(2); //new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œë˜ì§€ ì•Šì•˜ë‹¤.
console.log(circle.getDiameter()); // 4
//new.targetì´ ì—†ì—ˆë‹¤ë©´ ì›ë˜ëŠ” ì˜¤ë¥˜ê°€ ë‚¨.
```

new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œë˜ë©´ new.targetì€ í•¨ìˆ˜ ìì‹ ì„ ê°€ë¦¬í‚¤ëŠ”ë° new ì—°ì‚°ì ì—†ì´ ì¼ë°˜ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ new.targetì€ undefined ê°’ì„ ê°–ëŠ”ë‹¤.

new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œë˜ì§€ ì•Šì€ ê²½ìš° new ì—°ì‚°ìì™€ í•¨ê»˜ ì¬ê·€ í˜¸ì¶œì„ í†µí•´ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

ë°©ì–´ ì½”ë“œë¡œ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤.